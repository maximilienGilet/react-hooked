---
import HookIcon from "@/components/icons/HookIcon.astro";
import LandingLayout from "@/layouts/LandingLayout.astro";

const hooks: Record<string, string> = import.meta.glob("/src/hooks/*.ts", {
  query: "?raw",
  eager: true,
  import: "default",
});
const hooksCount = Object.keys(hooks).length;
---

<LandingLayout title="React Hooked ü™ù" selectedPage="Home">
  <section
    class="mx-auto flex min-h-screen flex-col flex-wrap items-center py-24 md:justify-center lg:flex-row"
  >
    <div
      class="mx-auto mb-16 flex max-w-md flex-col items-center self-start px-4 text-center sm:mt-32 md:mb-0 md:mt-0 md:max-w-lg md:items-start md:text-left xl:mt-12"
    >
      <div class="flex flex-row items-center justify-center gap-4">
        <p class="mb-4 text-xl font-semibold">
          React Hooked
          <HookIcon class="mb-2 inline-block h-6 w-6" />
        </p>
        <div
          class="pointer-events-none mb-4 rounded-full border-2 border-ctp-peach px-4 py-1 text-ctp-peach"
        >
          Beta
        </div>
      </div>
      <h1 class="mb-4 text-3xl font-bold sm:text-5xl">
        React hooks, without package installation.
      </h1>
      <p class="mb-6 text-lg">
        A collection of React Hooks without dependencies. Steal these hooks and
        use them in your project.
      </p>
      <a
        href="/docs"
        class="mb-16 inline-flex rounded border-0 bg-ctp-blue px-8 py-4 text-xl text-ctp-base transition-all hover:bg-ctp-pink focus:outline-none"
        >Getting started</a
      >
    </div>
    <div
      class="sticky top-16 mx-auto w-1/2 self-start md:w-1/3 lg:w-1/4 lg:max-w-lg"
    >
      <HookIcon />
    </div>
    <div class="z-10 min-h-[20rem] w-full flex-grow overflow-x-clip px-2 py-8">
      <div class="flex flex-col items-center justify-center">
        <blockquote
          class="mb-12 rounded-lg border border-ctp-subtext0 bg-ctp-crust/90 p-8 text-xl font-semibold italic backdrop-blur-sm"
        >
          <svg
            class="-ml-2 mb-2 h-8 w-8 text-ctp-subtext0"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 18 14"
          >
            <path
              d="M6 0H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4v1a3 3 0 0 1-3 3H2a1 1 0 0 0 0 2h1a5.006 5.006 0 0 0 5-5V2a2 2 0 0 0-2-2Zm10 0h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4v1a3 3 0 0 1-3 3h-1a1 1 0 0 0 0 2h1a5.006 5.006 0 0 0 5-5V2a2 2 0 0 0-2-2Z"
            ></path>
          </svg>
          <p class="text-3xl">It's like shadcn/ui, but for hooks</p>
        </blockquote>
      </div>
      <div class="mx-auto my-10 max-w-7xl px-4">
        <div
          class="flex h-11 w-full items-center justify-between space-x-1.5 rounded-t-lg bg-ctp-crust/90 px-3 backdrop-blur-sm"
        >
          <div class="flex space-x-2">
            <span class="h-3 w-3 rounded-full bg-red-400"></span>
            <span class="h-3 w-3 rounded-full bg-yellow-400"></span>
            <span class="h-3 w-3 rounded-full bg-green-400"></span>
          </div>
          <div class="flex items-center space-x-4">
            <div class="relative">
              <img
                id="demo-favicon"
                src="favicon.svg"
                class="h-6 w-6"
                alt="Logo"
              />
              <a
                href="/docs/useFavicon"
                class="absolute -left-20 -top-8 -rotate-2 font-handwriting text-ctp-subtext1 underline-offset-2 hover:underline"
                >useFavicon</a
              >
            </div>
            <div class="relative">
              <p id="demo-title">React Hooked ü™ù</p>
              <a
                href="/docs/useDocumentTitle"
                class="absolute -right-20 -top-8 rotate-6 font-handwriting text-ctp-subtext1 underline-offset-2 hover:underline"
                >useDocumentTitle</a
              >
            </div>
          </div>
          <div class="w-12"></div>
        </div>
        <div class="w-full border-t-0 bg-ctp-surface0/90 backdrop-blur-sm">
          <nav
            class="flex flex-row items-center justify-between border-t-0 p-4"
          >
            <div>
              <div class="relative">
                <input
                  id="demo-search"
                  type="text"
                  placeholder="Search..."
                  class="w-full rounded-lg border-0 bg-ctp-surface1 px-4 py-2 text-ctp-subtext1 placeholder-ctp-subtext1 focus:outline-none focus:ring-2 focus:ring-ctp-blue focus:ring-offset-0"
                />
                <a
                  href="/docs/useDebounce"
                  class="absolute -bottom-8 left-2 -rotate-2 font-handwriting text-ctp-subtext1 underline-offset-2 hover:underline"
                  >useDebounce</a
                >
              </div>
            </div>
            <div class="flex flex-row items-center justify-evenly gap-6">
              <div class="relative">
                <div
                  id="demo-online-status"
                  class="flex flex-row items-center gap-2"
                >
                  <div class="h-3 w-3 rounded-full bg-ctp-green"></div>
                  <p>Online</p>
                </div>
                <a
                  href="/docs/useIsOnline"
                  class="absolute -bottom-8 -left-8 -rotate-3 font-handwriting text-ctp-subtext1 underline-offset-2 hover:underline"
                  >useIsOnline</a
                >
              </div>
              <div class="relative">
                <div
                  id="demo-user-avatar"
                  class="cursor-pointer rounded-full bg-ctp-surface1 p-2 hover:bg-ctp-surface2"
                >
                  <img
                    src="favicon.svg"
                    class="h-6 w-6 invert dark:invert-0"
                    alt="Logo"
                  />
                </div>
                <a
                  href="/docs/useToggle"
                  class="absolute -right-6 -top-8 rotate-6 font-handwriting text-ctp-subtext1 underline-offset-2 hover:underline"
                  >useToggle</a
                >
              </div>
            </div>
          </nav>
          <div class="m-2 grid grid-cols-1 gap-4 p-6 md:grid-cols-3">
            <div
              class="flex flex-col items-center justify-stretch gap-8 rounded-lg bg-ctp-base p-2 shadow-lg md:col-span-2"
            >
              <div class="relative">
                <div id="demo-steps" class="space-y-2 p-2">
                  <h3 class="text-base font-semibold">
                    Step 3: Fill in details
                  </h3>
                  <div class="flex max-w-xs space-x-3">
                    <span class="h-2 w-12 rounded-sm bg-ctp-mauve"></span>
                    <span class="h-2 w-12 rounded-sm bg-ctp-mauve"></span>
                    <span class="h-2 w-12 rounded-sm bg-ctp-text"></span>
                    <span class="h-2 w-12 rounded-sm bg-ctp-surface0"></span>
                    <span class="h-2 w-12 rounded-sm bg-ctp-surface0"></span>
                  </div>
                </div>
                <a
                  href="/docs/useStep"
                  class="absolute -top-6 right-2 rotate-6 font-handwriting text-ctp-subtext1 underline-offset-2 hover:underline"
                  >useStep</a
                >
              </div>
              <div class="relative">
                <button
                  id="demo-geolocate"
                  class="rounded-lg bg-ctp-blue px-4 py-2 text-ctp-base shadow hover:bg-ctp-pink"
                >
                  Geolocate me
                </button>
                <a
                  href="/docs/useGeolocation"
                  class="absolute -left-36 top-2 -rotate-6 font-handwriting text-ctp-subtext1 underline-offset-2 hover:underline"
                  >useGeolocation</a
                >
              </div>
              <div class="relative">
                <p id="demo-countdown" class="text-ctp-subtext0">
                  14 minutes left
                </p>
                <a
                  href="/docs/useCountdown"
                  class="absolute -left-32 top-0 -rotate-6 font-handwriting text-ctp-subtext1 underline-offset-2 hover:underline"
                  >useCountdown</a
                >
              </div>
              <div class="relative">
                <div id="demo-cookies" class="flex items-center">
                  <input
                    checked
                    id="checked-checkbox"
                    type="checkbox"
                    value=""
                    class="h-4 w-4 rounded border-ctp-base bg-ctp-base text-ctp-blue focus:ring-2 focus:ring-ctp-blue"
                  />
                  <label for="checked-checkbox" class="ms-2 text-sm font-medium"
                    >Remember me</label
                  >
                </div>
                <a
                  href="/docs/useCookie"
                  class="absolute left-4 top-8 -rotate-6 font-handwriting text-ctp-subtext1 underline-offset-2 hover:underline"
                  >useCookie</a
                >
              </div>
              <div></div>
            </div>
            <div
              class="flex flex-col items-center justify-center gap-4 rounded-lg bg-ctp-surface2 p-4 text-center md:col-span-1"
            >
              <div class="relative">
                <p id="demo-idle" class="text-xl font-bold">
                  Are you still here?
                </p>
                <a
                  href="/docs/useIdle"
                  class="absolute -right-4 -top-10 -rotate-6 font-handwriting text-ctp-subtext1 underline-offset-2 hover:underline"
                  >useIdle</a
                >
              </div>
              <p class="text-lg">Explore the docs and get started.</p>
              <a
                href="/docs"
                class="rounded bg-ctp-blue px-4 py-2 text-ctp-base shadow hover:bg-ctp-pink"
                >Explore</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <div class="mb-48 flex flex-col items-center justify-center gap-12">
    <div class="text-3xl font-bold">
      {hooksCount} hooks available
    </div>
    <a
      href="/docs"
      class="inline-flex rounded border-0 bg-ctp-blue px-8 py-4 text-xl text-ctp-base transition-all hover:bg-ctp-pink focus:outline-none"
      >Explore</a
    >
  </div>
</LandingLayout>

<script is:inline type="module">
  import { annotate } from "https://unpkg.com/rough-notation?module";

  function setupDemo() {
    annotate(document.getElementById("demo-title"), {
      type: "circle",
      padding: 8,
    }).show();
    annotate(document.getElementById("demo-favicon"), { type: "box" }).show();
    annotate(document.getElementById("demo-user-avatar"), {
      type: "circle",
    }).show();
    annotate(document.getElementById("demo-online-status"), {
      type: "underline",
    }).show();
    annotate(document.getElementById("demo-search"), {
      type: "bracket",
      brackets: ["bottom"],
    }).show();
    annotate(document.getElementById("demo-steps"), {
      type: "bracket",
      brackets: ["left", "right"],
    }).show();
    annotate(document.getElementById("demo-geolocate"), { type: "box" }).show();
    annotate(document.getElementById("demo-countdown"), {
      type: "underline",
    }).show();
    annotate(document.getElementById("demo-cookies"), {
      type: "bracket",
      brackets: ["bottom"],
    }).show();
    annotate(document.getElementById("demo-idle"), { type: "box" }).show();
  }

  setupDemo();

  document.addEventListener("astro:after-swap", () => {
    setupDemo();
  });
</script>
